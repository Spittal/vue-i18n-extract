{"version":3,"file":"vue-i18n-extract.umd.js","sources":["../src/config-file/vue-i18n-extract.config.ts","../src/config-file/index.ts","../src/create-report/vue-files.ts","../src/create-report/language-files.ts","../src/create-report/report.ts","../src/create-report/index.ts","../src/index.ts"],"sourcesContent":["export default {\n  // Options documented in vue-i18n-extract readme.\n  vueFiles: './src/**/*.?(js|vue)',\n  languageFiles: './lang/**/*.?(json|yaml|yml|js)',\n  exclude: [],\n  output: false,\n  add: false,\n  remove: false,\n  ci: false,\n  separator: '.',\n  noEmptyTranslation: ''\n};\n","import cac from 'cac';\nimport fs from 'fs';\nimport path from 'path';\nimport defaultConfig from './vue-i18n-extract.config';\n\nexport function initCommand(): void {\n  fs.writeFileSync(\n    path.resolve(process.cwd(), './vue-i18n-extract.config.js'),\n    `module.exports = ${JSON.stringify(defaultConfig, null, 2)}`,\n  );\n}\n\nexport function resolveConfig (): Record<string, string>  {\n  const argvOptions = cac().parse(process.argv, { run: false }).options;\n\n  let options;\n\n  try {\n    const pathToConfigFile = path.resolve(process.cwd(), './vue-i18n-extract.config.js');\n    // eslint-disable-next-line @typescript-eslint/no-var-requires\n    const configOptions = require(pathToConfigFile);\n\n    console.info(`\\nUsing config file found at ${pathToConfigFile}`);\n\n    options = {\n      ...configOptions,\n      ...argvOptions\n    };\n  } catch {\n    options = argvOptions;\n  }\n\n  options.exclude = Array.isArray(options.exclude) ? options.exclude : [options.exclude];\n\n  return options;\n}\n","import { SimpleFile, I18NItemWithBounding } from '../types';\nimport isValidGlob from 'is-valid-glob';\nimport glob from 'glob';\nimport fs from 'fs';\n\nexport function readVueFiles (src: string): SimpleFile[] {\n  // Replace backslash path segments to make the path work with the glob package.\n  // https://github.com/Spittal/vue-i18n-extract/issues/159\n  const normalizedSrc = src.replace(/\\\\/g, '/');\n  if (!isValidGlob(normalizedSrc)) {\n    throw new Error(`vueFiles isn't a valid glob pattern.`);\n  }\n\n  const targetFiles = glob.sync(normalizedSrc);\n\n  if (targetFiles.length === 0) {\n    throw new Error('vueFiles glob has no files.');\n  }\n\n  return targetFiles.map((f) => {\n    const fileName = f.replace(process.cwd(), '.');\n    return { fileName, path: f, content: fs.readFileSync(f, 'utf8') };\n  });\n}\n\nfunction* getMatches (file: SimpleFile, regExp: RegExp, captureGroup = 1): IterableIterator<I18NItemWithBounding> {\n  while (true) {\n    const match = regExp.exec(file.content);\n    if (match === null) {\n      break;\n    }\n    const path = match[captureGroup];\n\n    const pathAtIndex = file.content.indexOf(path);\n    const previousCharacter = file.content.charAt(pathAtIndex - 1);\n    const nextCharacter = file.content.charAt(pathAtIndex + path.length);\n\n    const line = (file.content.substring(0, match.index).match(/\\n/g) || []).length + 1;\n    yield {\n      path,\n      previousCharacter,\n      nextCharacter,\n      file: file.fileName,\n      line,\n    };\n  }\n}\n\n/**\n * Extracts translation keys from methods such as `$t` and `$tc`.\n *\n * - **regexp pattern**: (?:[$\\s.:\"'`+\\(\\[\\{]t[cm]?)\\(\n *\n *   **description**: Matches the sequence t(, tc( or tm(, optionally with either “$”, SPACE, “.”, “:”, “\"”, “'”,\n *   “`”, \"+\", \"(\", \"[\" or \"{\" in front of it.\n *\n * - **regexp pattern**: ([\"'`])\n *\n *   **description**: 1. capturing group. Matches either “\"”, “'”, or “`”.\n *\n * - **regexp pattern**: ((?:[^\\\\]|\\\\.)*?)\n *\n *   **description**: 2. capturing group. Matches anything except a backslash\n *   *or* matches any backslash followed by any character (e.g. “\\\"”, “\\`”, “\\t”, etc.)\n *\n * - **regexp pattern**: \\1\n *\n *   **description**: matches whatever was matched by capturing group 1 (e.g. the starting string character)\n *\n * @param file a file object\n * @returns a list of translation keys found in `file`.\n */\n function extractMethodMatches (file: SimpleFile): I18NItemWithBounding[] {\n  const methodRegExp = /(?:[$\\s.:\"'`+\\(\\[\\{]t[cm]?)\\(\\s*?([\"'`])((?:[^\\\\]|\\\\.)*?)\\1/g;\n  return [ ...getMatches(file, methodRegExp, 2) ];\n}\n\nfunction extractComponentMatches (file: SimpleFile): I18NItemWithBounding[] {\n  const componentRegExp = /(?:(?:<|h\\()(?:i18n|Translation))(?:.|\\n)*?(?:[^:]path(?:=|: )(\"|'))((?:[^\\\\]|\\\\.)*?)\\1/gi;\n  return [ ...getMatches(file, componentRegExp, 2) ];\n}\n\nfunction extractDirectiveMatches (file: SimpleFile): I18NItemWithBounding[] {\n  const directiveRegExp = /\\bv-t(?:\\.[\\w-]+)?=\"'((?:[^\\\\]|\\\\.)*?)'\"/g;\n  return [ ...getMatches(file, directiveRegExp) ];\n}\n\nexport function extractI18NItemsFromVueFiles (sourceFiles: SimpleFile[]): I18NItemWithBounding[] {\n  return sourceFiles.reduce((accumulator, file) => {\n    const methodMatches = extractMethodMatches(file);\n    const componentMatches = extractComponentMatches(file);\n    const directiveMatches = extractDirectiveMatches(file);\n    return [\n      ...accumulator,\n      ...methodMatches,\n      ...componentMatches,\n      ...directiveMatches,\n    ];\n  }, [] as I18NItemWithBounding[]);\n}\n\n// This is a convenience function for users implementing in their own projects, and isn't used internally\nexport function parseVueFiles (vueFiles: string): I18NItemWithBounding[] {\n  return extractI18NItemsFromVueFiles(readVueFiles(vueFiles));\n}\n","import path from 'path';\nimport fs from 'fs';\nimport glob from 'glob';\nimport Dot from 'dot-object';\nimport yaml from 'js-yaml';\nimport isValidGlob from 'is-valid-glob';\nimport { SimpleFile, I18NLanguage, I18NItem, I18NItemWithBounding } from '../types';\n\nexport function readLanguageFiles (src: string): SimpleFile[] {\n  // Replace backslash path segments to make the path work with the glob package.\n  // https://github.com/Spittal/vue-i18n-extract/issues/159\n  const normalizedSrc = src.replace(/\\\\/g, '/');\n  if (!isValidGlob(normalizedSrc)) {\n    throw new Error(`languageFiles isn't a valid glob pattern.`);\n  }\n\n  const targetFiles = glob.sync(normalizedSrc);\n\n  if (targetFiles.length === 0) {\n    throw new Error('languageFiles glob has no files.');\n  }\n\n  return targetFiles.map(f => {\n    const langPath = path.resolve(process.cwd(), f);\n\n    const extension = langPath.substring(langPath.lastIndexOf('.')).toLowerCase();\n    const isJSON = extension === '.json';\n    const isYAML = extension === '.yaml' || extension === '.yml';\n\n    let langObj;\n    if (isJSON) {\n      langObj = JSON.parse(fs.readFileSync(langPath, 'utf8'));\n    } else if (isYAML) {\n      langObj = yaml.load(fs.readFileSync(langPath, 'utf8'));\n    } else {\n      langObj = eval(fs.readFileSync(langPath, 'utf8'));\n    }\n\n    const fileName = f.replace(process.cwd(), '.');\n\n    return { path: f, fileName, content: JSON.stringify(langObj) };\n  });\n}\n\nfunction* getMatches (file: SimpleFile, regExp: RegExp, captureGroup = 1): IterableIterator<I18NItemWithBounding> {\n  while (true) {\n    const match = regExp.exec(file.content);\n    if (match === null) {\n      break;\n    }\n    const path = match[captureGroup];\n\n    const pathAtIndex = file.content.indexOf(path);\n    const previousCharacter = file.content.charAt(pathAtIndex - 1);\n    const nextCharacter = file.content.charAt(pathAtIndex + path.length);\n\n    const line = (file.content.substring(0, match.index).match(/\\n/g) || []).length + 1;\n    yield {\n      path,\n      previousCharacter,\n      nextCharacter,\n      file: file.fileName,\n      line,\n    };\n  }\n}\n\nfunction extractMessageLinkMatches (file: SimpleFile): I18NItemWithBounding[] {\n  const messageLinkRegExp = /@:((?:[^\\\\]|\\\\.)*?)[\\s\"'`]/g;\n  return [ ...getMatches(file, messageLinkRegExp, 2) ];\n}\n\nexport function extractI18NItemsFromLanguageFiles (languageFiles: SimpleFile[]): I18NItemWithBounding[] {\n  return languageFiles.reduce((accumulator, file) => {\n    const messageLinkMatches = extractMessageLinkMatches(file);\n    return [\n      ...accumulator,\n      ...messageLinkMatches,\n    ];\n  }, [] as I18NItemWithBounding[]);\n}\n\nexport function extractI18NLanguageFromLanguageFiles (languageFiles: SimpleFile[], dot: DotObject.Dot = Dot): I18NLanguage {\n  return languageFiles.reduce((accumulator, file) => {\n    const language = file.fileName.substring(file.fileName.lastIndexOf('/') + 1, file.fileName.lastIndexOf('.'));\n\n    if (!accumulator[language]) {\n      accumulator[language] = [];\n    }\n\n    const flattenedObject = dot.dot(JSON.parse(file.content));\n    Object.keys(flattenedObject).forEach((key) => {\n      accumulator[language].push({\n        path: key,\n        file: file.fileName,\n      });\n    });\n\n    return accumulator;\n  }, {});\n}\n\nexport function writeMissingToLanguageFiles (parsedLanguageFiles: SimpleFile[], missingKeys: I18NItem[], dot: DotObject.Dot = Dot, noEmptyTranslation = ''): void {\n  parsedLanguageFiles.forEach(languageFile => {\n    const languageFileContent = JSON.parse(languageFile.content);\n\n    missingKeys.forEach(item => {\n      if (item.language && languageFile.fileName.includes(item.language) || !item.language) {\n        const addDefaultTranslation = (noEmptyTranslation) && ((noEmptyTranslation === '*') || (noEmptyTranslation === item.language));\n        dot.str(item.path, addDefaultTranslation ? item.path : '', languageFileContent);\n      }\n    });\n\n    writeLanguageFile(languageFile, languageFileContent);\n  });\n}\n\nexport function removeUnusedFromLanguageFiles (parsedLanguageFiles: SimpleFile[], unusedKeys: I18NItem[], dot: DotObject.Dot = Dot): void {\n  parsedLanguageFiles.forEach(languageFile => {\n    const languageFileContent = JSON.parse(languageFile.content);\n\n    unusedKeys.forEach(item => {\n      if (item.language && languageFile.fileName.includes(item.language)) {\n        dot.delete(item.path, languageFileContent);\n      }\n    });\n\n    writeLanguageFile(languageFile, languageFileContent);\n  });\n}\n\nfunction writeLanguageFile (languageFile: SimpleFile, newLanguageFileContent: unknown) {\n  const fileExtension = languageFile.fileName.substring(languageFile.fileName.lastIndexOf('.') + 1);\n    const filePath = languageFile.path;\n    const stringifiedContent = JSON.stringify(newLanguageFileContent, null, 2);\n\n    if (fileExtension === 'json') {\n      fs.writeFileSync(filePath, stringifiedContent);\n    } else if (fileExtension === 'js') {\n      const jsFile = `module.exports = ${stringifiedContent}; \\n`;\n      fs.writeFileSync(filePath, jsFile);\n    } else if (fileExtension === 'yaml' || fileExtension === 'yml') {\n      const yamlFile = yaml.dump(newLanguageFileContent);\n      fs.writeFileSync(filePath, yamlFile);\n    } else {\n      throw new Error(`Language filetype of ${fileExtension} not supported.`)\n    }\n}\n\n// This is a convenience function for users implementing in their own projects, and isn't used internally\nexport function parselanguageFiles (languageFiles: string, dot: DotObject.Dot = Dot): I18NLanguage {\n  return extractI18NLanguageFromLanguageFiles(readLanguageFiles(languageFiles), dot);\n}\n","import fs from 'fs';\nimport { I18NItem, I18NItemWithBounding, I18NLanguage, I18NReport } from '../types';\n\nfunction stripBounding (item: I18NItemWithBounding): I18NItem {\n  return {\n    path: item.path,\n    file: item.file,\n    line: item.line,\n  }\n}\n\nfunction mightBeDynamic (item: I18NItemWithBounding): boolean {\n  return item.path.includes('${') && !!item.previousCharacter.match(/`/g) && !!item.nextCharacter.match(/`/g);\n}\n\n// Looping through the arays multiple times might not be the most effecient, but it's the easiest to read and debug. Which at this scale is an accepted trade-off.\nexport function extractI18NReport (vueItems: I18NItemWithBounding[], languageFiles: I18NLanguage): I18NReport {\n  const missingKeys: I18NItem[] = [];\n  const unusedKeys: I18NItem[] = [];\n\n  const maybeDynamicKeys: I18NItem[] = vueItems\n    .filter(vueItem => mightBeDynamic(vueItem))\n    .map(vueItem => stripBounding(vueItem));\n\n  Object.keys(languageFiles).forEach(language => {\n    const languageItems = languageFiles[language];\n\n    const missingKeysInLanguage = vueItems\n      .filter(vueItem => !mightBeDynamic(vueItem))\n      .filter(vueItem => !languageItems.some(languageItem => vueItem.path === languageItem.path))\n      .map(vueItem => ({ ...stripBounding(vueItem), language }));\n\n    const unusedKeysInLanguage = languageItems\n      .filter(languageItem => !vueItems.some(vueItem => languageItem.path === vueItem.path || languageItem.path.startsWith(vueItem.path + '.')))\n      .map(languageItem => ({ ...languageItem, language }));\n\n    missingKeys.push(...missingKeysInLanguage);\n    unusedKeys.push(...unusedKeysInLanguage);\n  });\n\n  return {\n    missingKeys,\n    unusedKeys,\n    maybeDynamicKeys,\n  };\n}\n\nexport async function writeReportToFile (report: I18NReport, writePath: string): Promise<NodeJS.ErrnoException | void> {\n  const reportString = JSON.stringify(report);\n  return new Promise((resolve, reject) => {\n    fs.writeFile(\n      writePath,\n      reportString,\n      (err) => {\n        if (err) {\n          reject(err);\n          return;\n        }\n        resolve();\n      },\n    );\n  });\n}\n\n","import path from 'path';\nimport { ReportOptions, I18NReport } from '../types';\nimport { readVueFiles, extractI18NItemsFromVueFiles } from './vue-files';\nimport { readLanguageFiles, extractI18NItemsFromLanguageFiles, extractI18NLanguageFromLanguageFiles, removeUnusedFromLanguageFiles, writeMissingToLanguageFiles } from './language-files';\nimport { extractI18NReport,  writeReportToFile } from './report';\nimport Dot from 'dot-object';\n\nexport async function createI18NReport (options: ReportOptions): Promise<I18NReport> {\n  const {\n    vueFiles: vueFilesGlob,\n    languageFiles: languageFilesGlob,\n    output,\n    add,\n    remove,\n    exclude = [],\n    ci,\n    separator,\n    noEmptyTranslation = '',\n  } = options;\n\n  if (!vueFilesGlob) throw new Error('Required configuration vueFiles is missing.');\n  if (!languageFilesGlob) throw new Error('Required configuration languageFiles is missing.');\n\n  const dot = typeof separator === 'string' ? new Dot(separator) : Dot;\n  const vueFiles = readVueFiles(path.resolve(process.cwd(), vueFilesGlob));\n  const languageFiles = readLanguageFiles(path.resolve(process.cwd(), languageFilesGlob));\n\n  const I18NItems = [\n    ...extractI18NItemsFromVueFiles(vueFiles),\n    ...extractI18NItemsFromLanguageFiles(languageFiles),\n  ];\n  const I18NLanguage = extractI18NLanguageFromLanguageFiles(languageFiles, dot);\n\n  const report = extractI18NReport(I18NItems, I18NLanguage);\n\n  report.unusedKeys = report.unusedKeys.filter(key =>\n      !exclude.filter(excluded => key.path.startsWith(excluded)).length)\n\n  if (report.missingKeys.length) console.info('\\nMissing Keys'), console.table(report.missingKeys);\n  if (report.unusedKeys.length) console.info('\\nUnused Keys'), console.table(report.unusedKeys);\n  if (report.maybeDynamicKeys.length) console.warn('\\nSuspected Dynamic Keys Found\\nvue-i18n-extract does not compile Vue templates and therefore can not infer the correct key for the following keys.'), console.table(report.maybeDynamicKeys);\n\n  if (output) {\n    await writeReportToFile(report, path.resolve(process.cwd(), output));\n    console.info(`\\nThe report has been has been saved to ${output}`);\n  }\n\n  if (remove && report.unusedKeys.length) {\n    removeUnusedFromLanguageFiles(languageFiles, report.unusedKeys, dot);\n    console.info('\\nThe unused keys have been removed from your language files.');\n  }\n\n  if (add && report.missingKeys.length) {\n    writeMissingToLanguageFiles(languageFiles, report.missingKeys, dot, noEmptyTranslation);\n    console.info('\\nThe missing keys have been added to your language files.');\n  }\n\n  if (ci && report.missingKeys.length) {\n    throw new Error(`${report.missingKeys.length} missing keys found.`);\n  }\n\n  if (ci && report.unusedKeys.length) {\n    throw new Error(`${report.unusedKeys.length} unused keys found.`);\n  }\n\n  return report;\n}\n\nexport * from './vue-files';\nexport * from './language-files';\nexport * from './report';\n","export * from './config-file';\nexport * from './create-report';\nexport * from './types';\n\nprocess.on('uncaughtException', (err) => {\n  console.error('[vue-i18n-extract]', err);\n  process.exit(1);\n});\n\nprocess.on('unhandledRejection', (err) => {\n  console.error('[vue-i18n-extract]', err);\n  process.exit(1);\n});\n"],"names":["vueFiles","languageFiles","exclude","output","add","remove","ci","separator","noEmptyTranslation","initCommand","fs","writeFileSync","path","resolve","process","cwd","JSON","stringify","defaultConfig","resolveConfig","argvOptions","cac","parse","argv","run","options","pathToConfigFile","configOptions","require","console","info","Array","isArray","readVueFiles","src","normalizedSrc","replace","isValidGlob","Error","targetFiles","glob","sync","length","map","f","fileName","content","readFileSync","getMatches","file","regExp","captureGroup","match","exec","pathAtIndex","indexOf","previousCharacter","charAt","nextCharacter","line","substring","index","extractMethodMatches","methodRegExp","extractComponentMatches","componentRegExp","extractDirectiveMatches","directiveRegExp","extractI18NItemsFromVueFiles","sourceFiles","reduce","accumulator","methodMatches","componentMatches","directiveMatches","parseVueFiles","readLanguageFiles","langPath","extension","lastIndexOf","toLowerCase","isJSON","isYAML","langObj","yaml","load","eval","extractMessageLinkMatches","messageLinkRegExp","extractI18NItemsFromLanguageFiles","messageLinkMatches","extractI18NLanguageFromLanguageFiles","dot","Dot","language","flattenedObject","Object","keys","forEach","key","push","writeMissingToLanguageFiles","parsedLanguageFiles","missingKeys","languageFile","languageFileContent","item","includes","addDefaultTranslation","str","writeLanguageFile","removeUnusedFromLanguageFiles","unusedKeys","delete","newLanguageFileContent","fileExtension","filePath","stringifiedContent","jsFile","yamlFile","dump","parselanguageFiles","stripBounding","mightBeDynamic","extractI18NReport","vueItems","maybeDynamicKeys","filter","vueItem","languageItems","missingKeysInLanguage","some","languageItem","unusedKeysInLanguage","startsWith","writeReportToFile","report","writePath","reportString","Promise","reject","writeFile","err","createI18NReport","vueFilesGlob","languageFilesGlob","I18NItems","I18NLanguage","excluded","table","warn","on","error","exit"],"mappings":"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"}