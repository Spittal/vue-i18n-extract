{"version":3,"file":"vue-i18n-extract.modern.mjs","sources":["../src/config-file/vue-i18n-extract.config.ts","../src/config-file/index.ts","../src/types.ts","../src/create-report/vue-files.ts","../src/create-report/language-files.ts","../src/create-report/report.ts","../src/create-report/index.ts","../src/index.ts"],"sourcesContent":["export default {\n  // Options documented in vue-i18n-extract readme.\n  vueFiles: './src/**/*.?(js|vue)',\n  languageFiles: './lang/**/*.?(json|yaml|yml|js)',\n  exclude: [],\n  output: false,\n  add: false,\n  remove: false,\n  ci: false,\n  separator: '.',\n  noEmptyTranslation: ''\n};\n","import cac from 'cac';\nimport fs from 'fs';\nimport path from 'path';\nimport defaultConfig from './vue-i18n-extract.config';\n\nexport function initCommand(): void {\n  fs.writeFileSync(\n    path.resolve(process.cwd(), './vue-i18n-extract.config.js'),\n    `module.exports = ${JSON.stringify(defaultConfig, null, 2)}`,\n  );\n}\n\nexport function resolveConfig (): Record<string, string>  {\n  const argvOptions = cac().parse(process.argv, { run: false }).options;\n\n  let options;\n\n  try {\n    const pathToConfigFile = path.resolve(process.cwd(), './vue-i18n-extract.config.js');\n    // eslint-disable-next-line @typescript-eslint/no-var-requires\n    const configOptions = require(pathToConfigFile);\n\n    console.info(`\\nUsing config file found at ${pathToConfigFile}`);\n\n    options = {\n      ...configOptions,\n      ...argvOptions\n    };\n  } catch {\n    options = argvOptions;\n  }\n\n  options.exclude = Array.isArray(options.exclude) ? options.exclude : [options.exclude];\n\n  return options;\n}\n","export type ReportOptions = {\r\n  vueFiles: string;\r\n  languageFiles: string;\r\n  output?: string;\r\n  exclude?: string[];\r\n  add?: boolean;\r\n  remove?: boolean;\r\n  ci?: boolean;\r\n  separator?: string;\r\n  noEmptyTranslation?: string;\r\n  detect?: DetectionType[];\r\n}\r\n\r\nexport enum DetectionType {\r\n  Missing = \"missing\",\r\n  Unused = \"unused\",\r\n  Dynamic = \"dynamic\"\r\n}\r\n\r\nexport type SimpleFile = {\r\n  fileName: string;\r\n  path: string;\r\n  content: string;\r\n}\r\n\r\nexport type I18NItem = {\r\n  line?: number;\r\n  path: string;\r\n  file?: string;\r\n  language?: string;\r\n}\r\n\r\nexport type I18NItemWithBounding = I18NItem & {\r\n  previousCharacter: string;\r\n  nextCharacter: string;\r\n}\r\n\r\nexport type I18NLanguage = {\r\n  [language: string]: I18NItem[];\r\n}\r\n\r\nexport type I18NReport = {\r\n  missingKeys: I18NItem[];\r\n  unusedKeys: I18NItem[];\r\n  maybeDynamicKeys: I18NItem[];\r\n}\r\n","import { SimpleFile, I18NItemWithBounding } from '../types';\r\nimport isValidGlob from 'is-valid-glob';\r\nimport glob from 'glob';\r\nimport fs from 'fs';\r\n\r\nexport function readVueFiles (src: string): SimpleFile[] {\r\n  // Replace backslash path segments to make the path work with the glob package.\r\n  // https://github.com/Spittal/vue-i18n-extract/issues/159\r\n  const normalizedSrc = src.replace(/\\\\/g, '/');\r\n  if (!isValidGlob(normalizedSrc)) {\r\n    throw new Error(`vueFiles isn't a valid glob pattern.`);\r\n  }\r\n\r\n  const targetFiles = glob.sync(normalizedSrc);\r\n\r\n  if (targetFiles.length === 0) {\r\n    throw new Error('vueFiles glob has no files.');\r\n  }\r\n\r\n  return targetFiles.map((f) => {\r\n    const fileName = f.replace(process.cwd(), '.');\r\n    return { fileName, path: f, content: fs.readFileSync(f, 'utf8') };\r\n  });\r\n}\r\n\r\nfunction* getMatches (file: SimpleFile, regExp: RegExp, captureGroup = 1): IterableIterator<I18NItemWithBounding> {\r\n  while (true) {\r\n    const match = regExp.exec(file.content);\r\n    if (match === null) {\r\n      break;\r\n    }\r\n    const path = match[captureGroup];\r\n\r\n    const pathAtIndex = file.content.indexOf(path);\r\n    const previousCharacter = file.content.charAt(pathAtIndex - 1);\r\n    const nextCharacter = file.content.charAt(pathAtIndex + path.length);\r\n\r\n    const line = (file.content.substring(0, match.index).match(/\\n/g) || []).length + 1;\r\n    yield {\r\n      path,\r\n      previousCharacter,\r\n      nextCharacter,\r\n      file: file.fileName,\r\n      line,\r\n    };\r\n  }\r\n}\r\n\r\n/**\r\n * Extracts translation keys from methods such as `$t` and `$tc`.\r\n *\r\n * - **regexp pattern**: (?:[$\\s.:\"'`+\\(\\[\\{]t[cm]?)\\(\r\n *\r\n *   **description**: Matches the sequence t(, tc( or tm(, optionally with either “$”, SPACE, “.”, “:”, “\"”, “'”,\r\n *   “`”, \"+\", \"(\", \"[\" or \"{\" in front of it.\r\n *\r\n * - **regexp pattern**: ([\"'`])\r\n *\r\n *   **description**: 1. capturing group. Matches either “\"”, “'”, or “`”.\r\n *\r\n * - **regexp pattern**: ((?:[^\\\\]|\\\\.)*?)\r\n *\r\n *   **description**: 2. capturing group. Matches anything except a backslash\r\n *   *or* matches any backslash followed by any character (e.g. “\\\"”, “\\`”, “\\t”, etc.)\r\n *\r\n * - **regexp pattern**: \\1\r\n *\r\n *   **description**: matches whatever was matched by capturing group 1 (e.g. the starting string character)\r\n *\r\n * @param file a file object\r\n * @returns a list of translation keys found in `file`.\r\n */\r\n function extractMethodMatches (file: SimpleFile): I18NItemWithBounding[] {\r\n  const methodRegExp = /(?:[$\\s.:\"'`+\\(\\[\\{]t[cm]?)\\(\\s*?([\"'`])((?:[^\\\\]|\\\\.)*?)\\1/g;\r\n  return [ ...getMatches(file, methodRegExp, 2) ];\r\n}\r\n\r\nfunction extractComponentMatches (file: SimpleFile): I18NItemWithBounding[] {\r\n  const componentRegExp = /(?:(?:<|h\\()(?:i18n|Translation))(?:.|\\n)*?(?:\\s(?:(?:key)?)path(?:=|: )(\"|'))((?:[^\\\\]|\\\\.)*?)\\1/gi;\r\n  return [ ...getMatches(file, componentRegExp, 2) ];\r\n}\r\n\r\nfunction extractDirectiveMatches (file: SimpleFile): I18NItemWithBounding[] {\r\n  const directiveRegExp = /\\bv-t(?:\\.[\\w-]+)?=\"'((?:[^\\\\]|\\\\.)*?)'\"/g;\r\n  return [ ...getMatches(file, directiveRegExp) ];\r\n}\r\n\r\nexport function extractI18NItemsFromVueFiles (sourceFiles: SimpleFile[]): I18NItemWithBounding[] {\r\n  return sourceFiles.reduce((accumulator, file) => {\r\n    const methodMatches = extractMethodMatches(file);\r\n    const componentMatches = extractComponentMatches(file);\r\n    const directiveMatches = extractDirectiveMatches(file);\r\n    return [\r\n      ...accumulator,\r\n      ...methodMatches,\r\n      ...componentMatches,\r\n      ...directiveMatches,\r\n    ];\r\n  }, [] as I18NItemWithBounding[]);\r\n}\r\n\r\n// This is a convenience function for users implementing in their own projects, and isn't used internally\r\nexport function parseVueFiles (vueFiles: string): I18NItemWithBounding[] {\r\n  return extractI18NItemsFromVueFiles(readVueFiles(vueFiles));\r\n}\r\n","import path from 'path';\nimport fs from 'fs';\nimport glob from 'glob';\nimport Dot from 'dot-object';\nimport yaml from 'js-yaml';\nimport isValidGlob from 'is-valid-glob';\nimport { SimpleFile, I18NLanguage, I18NItem } from '../types';\n\nexport function readLanguageFiles (src: string): SimpleFile[] {\n  // Replace backslash path segments to make the path work with the glob package.\n  // https://github.com/Spittal/vue-i18n-extract/issues/159\n  const normalizedSrc = src.replace(/\\\\/g, '/');\n  if (!isValidGlob(normalizedSrc)) {\n    throw new Error(`languageFiles isn't a valid glob pattern.`);\n  }\n\n  const targetFiles = glob.sync(normalizedSrc);\n\n  if (targetFiles.length === 0) {\n    throw new Error('languageFiles glob has no files.');\n  }\n\n  return targetFiles.map(f => {\n    const langPath = path.resolve(process.cwd(), f);\n\n    const extension = langPath.substring(langPath.lastIndexOf('.')).toLowerCase();\n    const isJSON = extension === '.json';\n    const isYAML = extension === '.yaml' || extension === '.yml';\n\n    let langObj;\n    if (isJSON) {\n      langObj = JSON.parse(fs.readFileSync(langPath, 'utf8'));\n    } else if (isYAML) {\n      langObj = yaml.load(fs.readFileSync(langPath, 'utf8'));\n    } else {\n      langObj = eval(fs.readFileSync(langPath, 'utf8'));\n    }\n\n    const fileName = f.replace(process.cwd(), '.');\n\n    return { path: f, fileName, content: JSON.stringify(langObj) };\n  });\n}\n\nexport function extractI18NLanguageFromLanguageFiles (languageFiles: SimpleFile[], dot: DotObject.Dot = Dot): I18NLanguage {\n  return languageFiles.reduce((accumulator, file) => {\n    const language = file.fileName.substring(file.fileName.lastIndexOf('/') + 1, file.fileName.lastIndexOf('.'));\n\n    if (!accumulator[language]) {\n      accumulator[language] = [];\n    }\n\n    const flattenedObject = dot.dot(JSON.parse(file.content));\n    Object.keys(flattenedObject).forEach((key) => {\n      accumulator[language].push({\n        path: key,\n        file: file.fileName,\n      });\n    });\n\n    return accumulator;\n  }, {});\n}\n\nexport function writeMissingToLanguageFiles (parsedLanguageFiles: SimpleFile[], missingKeys: I18NItem[], dot: DotObject.Dot = Dot, noEmptyTranslation = ''): void {\n  parsedLanguageFiles.forEach(languageFile => {\n    const languageFileContent = JSON.parse(languageFile.content);\n\n    missingKeys.forEach(item => {\n      if (item.language && languageFile.fileName.includes(item.language) || !item.language) {\n        const addDefaultTranslation = (noEmptyTranslation) && ((noEmptyTranslation === '*') || (noEmptyTranslation === item.language));\n        dot.str(item.path, addDefaultTranslation ? item.path : '', languageFileContent);\n      }\n    });\n\n    writeLanguageFile(languageFile, languageFileContent);\n  });\n}\n\nexport function removeUnusedFromLanguageFiles (parsedLanguageFiles: SimpleFile[], unusedKeys: I18NItem[], dot: DotObject.Dot = Dot): void {\n  parsedLanguageFiles.forEach(languageFile => {\n    const languageFileContent = JSON.parse(languageFile.content);\n\n    unusedKeys.forEach(item => {\n      if (item.language && languageFile.fileName.includes(item.language)) {\n        dot.delete(item.path, languageFileContent);\n      }\n    });\n\n    writeLanguageFile(languageFile, languageFileContent);\n  });\n}\n\nfunction writeLanguageFile (languageFile: SimpleFile, newLanguageFileContent: unknown) {\n  const fileExtension = languageFile.fileName.substring(languageFile.fileName.lastIndexOf('.') + 1);\n    const filePath = languageFile.path;\n    const stringifiedContent = JSON.stringify(newLanguageFileContent, null, 2);\n\n    if (fileExtension === 'json') {\n      fs.writeFileSync(filePath, stringifiedContent);\n    } else if (fileExtension === 'js') {\n      const jsFile = `module.exports = ${stringifiedContent}; \\n`;\n      fs.writeFileSync(filePath, jsFile);\n    } else if (fileExtension === 'yaml' || fileExtension === 'yml') {\n      const yamlFile = yaml.dump(newLanguageFileContent);\n      fs.writeFileSync(filePath, yamlFile);\n    } else {\n      throw new Error(`Language filetype of ${fileExtension} not supported.`)\n    }\n}\n\n// This is a convenience function for users implementing in their own projects, and isn't used internally\nexport function parselanguageFiles (languageFiles: string, dot: DotObject.Dot = Dot): I18NLanguage {\n  return extractI18NLanguageFromLanguageFiles(readLanguageFiles(languageFiles), dot);\n}\n","import fs from 'fs';\r\nimport { DetectionType, I18NItem, I18NItemWithBounding, I18NLanguage, I18NReport } from '../types';\r\n\r\nfunction stripBounding (item: I18NItemWithBounding): I18NItem {\r\n  return {\r\n    path: item.path,\r\n    file: item.file,\r\n    line: item.line,\r\n  }\r\n}\r\n\r\nfunction mightBeDynamic (item: I18NItemWithBounding): boolean {\r\n  return item.path.includes('${') && !!item.previousCharacter.match(/`/g) && !!item.nextCharacter.match(/`/g);\r\n}\r\n\r\n// Looping through the arays multiple times might not be the most effecient, but it's the easiest to read and debug. Which at this scale is an accepted trade-off.\r\nexport function extractI18NReport (vueItems: I18NItemWithBounding[], languageFiles: I18NLanguage, detect: DetectionType[]): I18NReport {\r\n  const missingKeys: I18NItem[] = [];\r\n  const unusedKeys: I18NItem[] = [];\r\n  const maybeDynamicKeys: I18NItem[] = [];\r\n\r\n  if (detect.includes(DetectionType.Dynamic)) {\r\n   maybeDynamicKeys. push( ...vueItems\r\n    .filter(vueItem => mightBeDynamic(vueItem))\r\n    .map(vueItem => stripBounding(vueItem)));\r\n   }\r\n\r\n  Object.keys(languageFiles).forEach(language => {\r\n    const languageItems = languageFiles[language];\r\n\r\n    if (detect.includes(DetectionType.Missing)) {\r\n    const missingKeysInLanguage = vueItems\r\n      .filter(vueItem => !mightBeDynamic(vueItem))\r\n      .filter(vueItem => !languageItems.some(languageItem => vueItem.path === languageItem.path))\r\n      .map(vueItem => ({ ...stripBounding(vueItem), language }));\r\n\r\n    missingKeys.push(...missingKeysInLanguage);\r\n    }\r\n\r\n    if (detect.includes(DetectionType.Unused)) {\r\n    const unusedKeysInLanguage = languageItems\r\n      .filter(languageItem => !vueItems.some(vueItem => languageItem.path === vueItem.path || languageItem.path.startsWith(vueItem.path + '.')))\r\n      .map(languageItem => ({ ...languageItem, language }));\r\n\r\n    unusedKeys.push(...unusedKeysInLanguage);\r\n    }\r\n  });\r\n\r\n  return {\r\n    missingKeys,\r\n    unusedKeys,\r\n    maybeDynamicKeys,\r\n  };\r\n}\r\n\r\nexport async function writeReportToFile (report: I18NReport, writePath: string): Promise<NodeJS.ErrnoException | void> {\r\n  const reportString = JSON.stringify(report);\r\n  return new Promise((resolve, reject) => {\r\n    fs.writeFile(\r\n      writePath,\r\n      reportString,\r\n      (err) => {\r\n        if (err) {\r\n          reject(err);\r\n          return;\r\n        }\r\n        resolve();\r\n      },\r\n    );\r\n  });\r\n}\r\n\r\n","import path from 'path';\r\nimport { ReportOptions, I18NReport, DetectionType } from '../types';\r\nimport { readVueFiles, extractI18NItemsFromVueFiles } from './vue-files';\r\nimport { readLanguageFiles, extractI18NLanguageFromLanguageFiles, removeUnusedFromLanguageFiles, writeMissingToLanguageFiles } from './language-files';\r\nimport { extractI18NReport,  writeReportToFile } from './report';\r\nimport Dot from 'dot-object';\r\n\r\nexport async function createI18NReport (options: ReportOptions): Promise<I18NReport> {\r\n  const {\r\n    vueFiles: vueFilesGlob,\r\n    languageFiles: languageFilesGlob,\r\n    output,\r\n    add,\r\n    remove,\r\n    exclude = [],\r\n    ci,\r\n    separator,\r\n    noEmptyTranslation = '',\r\n    detect = [DetectionType.Missing, DetectionType.Unused, DetectionType.Dynamic]\r\n  } = options;\r\n\r\n  if (!vueFilesGlob) throw new Error('Required configuration vueFiles is missing.');\r\n  if (!languageFilesGlob) throw new Error('Required configuration languageFiles is missing.');\r\n  \r\n  let issuesToDetect = Array.isArray(detect) ? detect : [detect];\r\n  const invalidDetectOptions = issuesToDetect.filter(item => !Object.values(DetectionType).includes(item));\r\n  if (invalidDetectOptions.length) {\r\n    throw new Error(`Invalid 'detect' value(s): ${invalidDetectOptions}`);\r\n  }\r\n\r\n  const dot = typeof separator === 'string' ? new Dot(separator) : Dot;\r\n  const vueFiles = readVueFiles(path.resolve(process.cwd(), vueFilesGlob));\r\n  const languageFiles = readLanguageFiles(path.resolve(process.cwd(), languageFilesGlob));\r\n\r\n  const I18NItems = extractI18NItemsFromVueFiles(vueFiles);\r\n  const I18NLanguage = extractI18NLanguageFromLanguageFiles(languageFiles, dot);\r\n\r\n  const report = extractI18NReport(I18NItems, I18NLanguage, issuesToDetect);\r\n\r\n  report.unusedKeys = report.unusedKeys.filter(key =>\r\n      !exclude.filter(excluded => key.path.startsWith(excluded)).length)\r\n\r\n  if (report.missingKeys.length) console.info('\\nMissing Keys'), console.table(report.missingKeys);\r\n  if (report.unusedKeys.length) console.info('\\nUnused Keys'), console.table(report.unusedKeys);\r\n  if (report.maybeDynamicKeys.length) console.warn('\\nSuspected Dynamic Keys Found\\nvue-i18n-extract does not compile Vue templates and therefore can not infer the correct key for the following keys.'), console.table(report.maybeDynamicKeys);\r\n\r\n  if (output) {\r\n    await writeReportToFile(report, path.resolve(process.cwd(), output));\r\n    console.info(`\\nThe report has been has been saved to ${output}`);\r\n  }\r\n\r\n  if (remove && report.unusedKeys.length) {\r\n    removeUnusedFromLanguageFiles(languageFiles, report.unusedKeys, dot);\r\n    console.info('\\nThe unused keys have been removed from your language files.');\r\n  }\r\n\r\n  if (add && report.missingKeys.length) {\r\n    writeMissingToLanguageFiles(languageFiles, report.missingKeys, dot, noEmptyTranslation);\r\n    console.info('\\nThe missing keys have been added to your language files.');\r\n  }\r\n\r\n  if (ci && report.missingKeys.length) {\r\n    throw new Error(`${report.missingKeys.length} missing keys found.`);\r\n  }\r\n\r\n  if (ci && report.unusedKeys.length) {\r\n    throw new Error(`${report.unusedKeys.length} unused keys found.`);\r\n  }\r\n\r\n  return report;\r\n}\r\n\r\nexport * from './vue-files';\r\nexport * from './language-files';\r\nexport * from './report';\r\n","export * from './config-file';\nexport * from './create-report';\nexport * from './types';\n\nprocess.on('uncaughtException', (err) => {\n  console.error('[vue-i18n-extract]', err);\n  process.exit(1);\n});\n\nprocess.on('unhandledRejection', (err) => {\n  console.error('[vue-i18n-extract]', err);\n  process.exit(1);\n});\n"],"names":["vueFiles","languageFiles","exclude","output","add","remove","ci","separator","noEmptyTranslation","initCommand","fs","writeFileSync","path","resolve","process","cwd","JSON","stringify","defaultConfig","resolveConfig","argvOptions","cac","parse","argv","run","options","pathToConfigFile","configOptions","require","console","info","Array","isArray","DetectionType","readVueFiles","src","normalizedSrc","replace","isValidGlob","Error","targetFiles","glob","sync","length","map","f","fileName","content","readFileSync","getMatches","file","regExp","captureGroup","match","exec","pathAtIndex","indexOf","previousCharacter","charAt","nextCharacter","line","substring","index","extractMethodMatches","methodRegExp","extractComponentMatches","componentRegExp","extractDirectiveMatches","directiveRegExp","extractI18NItemsFromVueFiles","sourceFiles","reduce","accumulator","methodMatches","componentMatches","directiveMatches","parseVueFiles","readLanguageFiles","langPath","extension","lastIndexOf","toLowerCase","isJSON","isYAML","langObj","yaml","load","eval","extractI18NLanguageFromLanguageFiles","dot","Dot","language","flattenedObject","Object","keys","forEach","key","push","writeMissingToLanguageFiles","parsedLanguageFiles","missingKeys","languageFile","languageFileContent","item","includes","addDefaultTranslation","str","writeLanguageFile","removeUnusedFromLanguageFiles","unusedKeys","delete","newLanguageFileContent","fileExtension","filePath","stringifiedContent","jsFile","yamlFile","dump","parselanguageFiles","stripBounding","mightBeDynamic","extractI18NReport","vueItems","detect","maybeDynamicKeys","Dynamic","filter","vueItem","languageItems","Missing","missingKeysInLanguage","some","languageItem","Unused","unusedKeysInLanguage","startsWith","writeReportToFile","report","writePath","reportString","Promise","reject","writeFile","err","createI18NReport","vueFilesGlob","languageFilesGlob","issuesToDetect","invalidDetectOptions","values","I18NItems","I18NLanguage","excluded","table","warn","on","error","exit"],"mappings":"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"}